# Analytics API Configuration

# ========================================
# Application Settings
# ========================================
APP_HOST=0.0.0.0
API_PORT=8080

# CORS Origins (comma-separated)
CORS_ORIGINS=*

# ========================================
# Database Configuration (TimescaleDB)
# ========================================
# Main database URL
DATABASE_URL=postgresql://llm_observatory:password@localhost:5432/llm_observatory

# Read-only replica (optional, falls back to DATABASE_URL)
DATABASE_READONLY_URL=postgresql://llm_observatory_ro:password@localhost:5433/llm_observatory

# Connection Pool Settings
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_CONNECT_TIMEOUT=30
DATABASE_IDLE_TIMEOUT=300
DATABASE_MAX_LIFETIME=1800

# ========================================
# Redis Cache Configuration
# ========================================
# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Alternative: Individual Redis settings
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ========================================
# Cache Settings
# ========================================
# Enable/disable caching
CACHE_ENABLED=true

# Default cache TTL in seconds (1 hour)
CACHE_DEFAULT_TTL=3600

# ========================================
# Logging
# ========================================
# Log level: trace, debug, info, warn, error
RUST_LOG=analytics_api=debug,tower_http=info,sqlx=warn

# ========================================
# Metrics
# ========================================
# Prometheus metrics port (optional, separate from API_PORT)
METRICS_PORT=9090
