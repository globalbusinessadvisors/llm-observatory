# LLM Observatory - Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# TimescaleDB Configuration
# =============================================================================

# Database connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=llm_observatory
DB_USER=postgres
DB_PASSWORD=postgres

# Application database user (created by init script)
DB_APP_USER=llm_observatory_app
DB_APP_PASSWORD=change_me_in_production

# Read-only database user (created by init script)
DB_READONLY_USER=llm_observatory_readonly
DB_READONLY_PASSWORD=change_me_readonly

# Database connection string templates
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DATABASE_APP_URL=postgresql://${DB_APP_USER}:${DB_APP_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DATABASE_READONLY_URL=postgresql://${DB_READONLY_USER}:${DB_READONLY_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# PostgreSQL performance tuning (adjust based on available memory)
DB_SHARED_BUFFERS=256MB
DB_WORK_MEM=32MB
DB_MAINTENANCE_WORK_MEM=128MB
DB_EFFECTIVE_CACHE_SIZE=1GB

# Connection pool settings (for application)
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DB_POOL_TIMEOUT=30

# =============================================================================
# Redis Configuration
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password
REDIS_DB=0

# Redis connection string
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Cache TTL settings (in seconds)
CACHE_DEFAULT_TTL=3600
CACHE_SHORT_TTL=300
CACHE_LONG_TTL=86400

# =============================================================================
# Grafana Configuration
# =============================================================================

GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_DOMAIN=localhost

# Grafana database settings (uses TimescaleDB for metadata)
GRAFANA_DB_NAME=grafana

# Anonymous access (set to true for public dashboards)
GRAFANA_ANONYMOUS_ENABLED=false

# Optional: Grafana plugins to install (comma-separated)
# Example: grafana-clock-panel,grafana-simple-json-datasource
GRAFANA_PLUGINS=

# =============================================================================
# PgAdmin Configuration (Optional - use with --profile admin)
# =============================================================================

PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@llm-observatory.local
PGADMIN_PASSWORD=admin

# =============================================================================
# Application Configuration
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Application server settings
APP_HOST=0.0.0.0
APP_PORT=8080

# Logging configuration
LOG_LEVEL=info
LOG_FORMAT=json

# API rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# Security Configuration
# =============================================================================

# Secret key for encryption/signing (generate with: openssl rand -hex 32)
SECRET_KEY=change_me_to_a_random_secret_key_in_production

# JWT settings (if using authentication)
JWT_SECRET=change_me_to_a_random_jwt_secret
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# CORS settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# LLM Provider Configuration (placeholder for future use)
# =============================================================================

# OpenAI
OPENAI_API_KEY=
OPENAI_ORG_ID=

# Anthropic
ANTHROPIC_API_KEY=

# AWS Bedrock
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# Azure OpenAI
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=

# =============================================================================
# Monitoring & Observability
# =============================================================================

# Enable metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# Enable health check endpoint
HEALTH_CHECK_ENABLED=true

# Sentry (error tracking - optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=${ENVIRONMENT}

# =============================================================================
# Development Settings
# =============================================================================

# Auto-reload on code changes
AUTO_RELOAD=true

# Debug mode
DEBUG=false

# Database query logging
DB_QUERY_LOGGING=false

# =============================================================================
# Backup Configuration
# =============================================================================

# Backup retention period (days)
BACKUP_RETENTION=30

# S3 backup configuration (optional)
S3_BACKUP_BUCKET=
S3_BACKUP_PREFIX=backups/
S3_STORAGE_CLASS=STANDARD_IA
S3_KMS_KEY_ID=

# WAL archiving configuration (for Point-in-Time Recovery)
WAL_ARCHIVE_DIR=/var/lib/postgresql/wal_archive
WAL_S3_BUCKET=
WAL_S3_PREFIX=wal_archive/
WAL_RETENTION_DAYS=7

# Notification email for backup alerts
NOTIFICATION_EMAIL=

# =============================================================================
# Docker Compose Settings
# =============================================================================

# Compose project name (for container/volume naming)
COMPOSE_PROJECT_NAME=llm-observatory
